define(["Ti/_/declare","Ti/_/UI/KineticScrollView","Ti/_/style","Ti/_/lang","Ti/UI"],function(e,t,i,n,r){var o=n.isDef,a=.001;return e("Ti.UI.ScrollView",t,{constructor:function(){var e;this._initKineticScrollView(e=r.createView({width:r.SIZE,height:r.SIZE,_minWidth:"100%",_minHeight:"100%",left:0,top:0}),"both","both",1)},_handleMouseWheel:function(){this._isScrollBarActive&&this.fireEvent("scroll",{x:-this._currentTranslationX,y:-this._currentTranslationY,dragging:!1,decelerating:!1})},_handleDragStart:function(){this.fireEvent("dragStart")},_handleDrag:function(){this.fireEvent("scroll",{x:-this._currentTranslationX,y:-this._currentTranslationY,dragging:!0,decelerating:!1})},_handleDragEnd:function(e,t,i){if(o(t)){var n=this,s=Math.sqrt(t*t+i*i),c=s*s/(1.724*a),l=s/a,u=Math.atan(Math.abs(i/t)),d=c*Math.cos(u)*(0>t?-1:1),h=c*Math.sin(u)*(0>i?-1:1),_=Math.min(0,Math.max(n._minTranslationX,n._currentTranslationX+d)),f=Math.min(0,Math.max(n._minTranslationY,n._currentTranslationY+h));n.fireEvent("dragEnd",{decelerate:!0}),n._animateToPosition(_,f,l,r.ANIMATION_CURVE_EASE_OUT,function(){n._setTranslation(_,f),n._endScrollBars(),n.fireEvent("scrollEnd")})}},scrollTo:function(e,t){this._setTranslation(null!==e?-e:this._currentTranslationX,null!==t?-t:this._currentTranslationX)},_defaultWidth:r.FILL,_defaultHeight:r.FILL,_getContentOffset:function(){return this.contentOffset},_preLayout:function(){var e=this._contentContainer.layout===this.layout;return this._contentContainer.layout=this.layout,e},add:function(e){this._contentContainer._add(e),this._publish(e)},remove:function(e){this._contentContainer.remove(e),this._unpublish(e)},properties:{contentHeight:{get:function(){return this._contentContainer.height},set:function(e){return this._contentContainer.height=e,e}},contentOffset:{get:function(){return{x:-this._currentTranslationX,y:-this._currentTranslationY}},set:function(e){return this._setTranslation(o(e.x)?-e.x:this._currentTranslationX,o(e.y)?-e.y:this._currentTranslationY),e}},contentWidth:{get:function(){return this._contentContainer.width},set:function(e){return this._contentContainer.width=e,e}},disableBounce:!1,horizontalBounce:{set:function(e){return this._horizontalElastic=e},value:!0},layout:{set:function(e){return this._contentContainer.layout=e},value:"composite"},showHorizontalScrollIndicator:{set:function(e,t){return e!==t&&(e?this._createHorizontalScrollBar():this._destroyHorizontalScrollBar()),e},value:!0},showVerticalScrollIndicator:{set:function(e,t){return e!==t&&(e?this._createVerticalScrollBar():this._destroyVerticalScrollBar()),e},value:!0},verticalBounce:{set:function(e){return this._verticalElastic=e},value:!0}}})});