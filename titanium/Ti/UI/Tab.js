define(["Ti/_/declare","Ti/UI/View","Ti/_/dom","Ti/Locale","Ti/UI","Ti/UI/MobileWeb","Ti/UI/Label","Ti/UI/ImageView"],function(t,e,i,n,r,o){var a={post:function(){this._tabTitle.text=this._getTitle()}},s=r.FILL,l=r.SIZE;return t("Ti.UI.Tab",e,{constructor:function(t){var e=t&&t.window,i=r.createView({layout:r._LAYOUT_CONSTRAINING_VERTICAL,width:"100%",height:l}),n=this._tabNavigationGroup=o.createNavigationGroup({window:e,_tab:this});this._add(i),i._add(this._tabIcon=r.createImageView({height:l,width:l})),i._add(this._tabTitle=r.createLabel({width:"100%",wordWrap:!0,textAlign:r.TEXT_ALIGNMENT_CENTER})),e&&require.on(this,"singletap",this,function(){var t=this._tabGroup;t&&(t.activeTab===this?n._reset():t.activeTab=this)})},_defaultWidth:s,_defaultHeight:s,open:function(t,e){this._tabNavigationGroup.open(t,e)},close:function(t,e){this._tabNavigationGroup.close(t,e)},_focus:function(){this.fireEvent("focus",this._tabGroup._getEventData());var t=this._tabNavigationGroup._getTopWindow();t&&(this._tabGroup&&this._tabGroup._opened&&!t._opened&&(t._opened=1,t.fireEvent("open")),t._handleFocusEvent())},_blur:function(){var t=this._tabNavigationGroup._getTopWindow();t&&t._handleBlurEvent(),this.fireEvent("blur",this._tabGroup._getEventData())},_getTitle:function(){return n._getString(this.titleid,this.title)},_setTabGroup:function(t){this._tabGroup=t,this._tabNavigationGroup.navBarAtTop=t.tabsAtTop,this._win&&(this._win.tabGroup=t)},_setNavBarAtTop:function(t){this._tabNavigationGroup.navBarAtTop=t},properties:{active:{get:function(){return this._tabGroup&&this._tabGroup.activeTab===this},post:function(t){var e=this._tabGroup,i=this._tabNavigationGroup,n=e._focused&&e._opened;t?(i.navBarAtTop=e.tabsAtBottom,i._updateNavBar(),e._addTabContents(i),n&&this._focus()):(e._removeTabContents(i),n&&this._blur())}},icon:{set:function(t){return this._tabIcon.image=t}},title:a,titleid:a}})});