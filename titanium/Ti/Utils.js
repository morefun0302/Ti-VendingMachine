define(["Ti/_/encoding","Ti/_/Evented","Ti/_/lang","Ti/Blob"],function(t,e,i,n){function r(t,e){for(var i=[],n=0,r=8*t.length;r>n;n+=8)i[n>>5]|=(255&t.charCodeAt(n/8))<<(e?e-n:n)%32;return i}function o(t,e){for(var i="0123456789abcdef",n=0,r=4*t.length,o=[];r>n;n++)o.push(i.charAt(15&t[n>>2]>>8*((e?e-n:n)%4)+4)+i.charAt(15&t[n>>2]>>8*((e?e-n:n)%4)));return o.join("")}function a(t,e){return t=r(t,24),t[e>>5]|=128<<24-e%32,t[(e+64>>9<<4)+15]=e,t}function s(t,e){var i=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(i>>16);return n<<16|65535&i}function c(t,e){return t<<e|t>>>32-e}function l(t,e,i,n,r,o){return s(c(s(s(e,t),s(n,o)),r),i)}function u(t,e,i,n,r,o,a){return l(e&i|~e&n,t,e,r,o,a)}function d(t,e,i,n,r,o,a){return l(e&n|i&~n,t,e,r,o,a)}function h(t,e,i,n,r,o,a){return l(e^i^n,t,e,r,o,a)}function _(t,e,i,n,r,o,a){return l(i^(e|~n),t,e,r,o,a)}function f(t,e,i,n){return 20>t?e&i|~e&n:40>t?e^i^n:60>t?e&i|e&n|i&n:e^i^n}function p(t){return 20>t?1518500249:40>t?1859775393:60>t?-1894007588:-899497514}function g(t,e){return t>>>e|t<<32-e}function v(t){return g(t,7)^g(t,18)^t>>>3}function m(t){return g(t,17)^g(t,19)^t>>>10}function T(t){return t&&"Ti.Blob"===t.declaredClass}function I(e){return atob(t.utf8encode(e))}function w(t){return T(t)?t._isBinary?I(t._data):t._data:t}var E=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];return i.setObject("Ti.Utils",e,{base64decode:function(t){return T(t)&&t._isBinary?t:new n({data:I(t._data||t)})},base64encode:function(e){return T(e)&&e._isBinary?e:new n({data:t.utf8decode(btoa(e._data||e))})},md5HexDigest:function(e){var i,e=t.utf8encode(w(e)),n=8*e.length,a=1732584193,c=-271733879,l=-1732584194,f=271733878,p=0;for(e=r(e),e[n>>5]|=128<<n%32,e[(n+64>>>9<<4)+14]=n,i=e.length;i>p;p+=16){var g=a,v=c,m=l,T=f;a=u(a,c,l,f,e[p+0],7,-680876936),f=u(f,a,c,l,e[p+1],12,-389564586),l=u(l,f,a,c,e[p+2],17,606105819),c=u(c,l,f,a,e[p+3],22,-1044525330),a=u(a,c,l,f,e[p+4],7,-176418897),f=u(f,a,c,l,e[p+5],12,1200080426),l=u(l,f,a,c,e[p+6],17,-1473231341),c=u(c,l,f,a,e[p+7],22,-45705983),a=u(a,c,l,f,e[p+8],7,1770035416),f=u(f,a,c,l,e[p+9],12,-1958414417),l=u(l,f,a,c,e[p+10],17,-42063),c=u(c,l,f,a,e[p+11],22,-1990404162),a=u(a,c,l,f,e[p+12],7,1804603682),f=u(f,a,c,l,e[p+13],12,-40341101),l=u(l,f,a,c,e[p+14],17,-1502002290),c=u(c,l,f,a,e[p+15],22,1236535329),a=d(a,c,l,f,e[p+1],5,-165796510),f=d(f,a,c,l,e[p+6],9,-1069501632),l=d(l,f,a,c,e[p+11],14,643717713),c=d(c,l,f,a,e[p+0],20,-373897302),a=d(a,c,l,f,e[p+5],5,-701558691),f=d(f,a,c,l,e[p+10],9,38016083),l=d(l,f,a,c,e[p+15],14,-660478335),c=d(c,l,f,a,e[p+4],20,-405537848),a=d(a,c,l,f,e[p+9],5,568446438),f=d(f,a,c,l,e[p+14],9,-1019803690),l=d(l,f,a,c,e[p+3],14,-187363961),c=d(c,l,f,a,e[p+8],20,1163531501),a=d(a,c,l,f,e[p+13],5,-1444681467),f=d(f,a,c,l,e[p+2],9,-51403784),l=d(l,f,a,c,e[p+7],14,1735328473),c=d(c,l,f,a,e[p+12],20,-1926607734),a=h(a,c,l,f,e[p+5],4,-378558),f=h(f,a,c,l,e[p+8],11,-2022574463),l=h(l,f,a,c,e[p+11],16,1839030562),c=h(c,l,f,a,e[p+14],23,-35309556),a=h(a,c,l,f,e[p+1],4,-1530992060),f=h(f,a,c,l,e[p+4],11,1272893353),l=h(l,f,a,c,e[p+7],16,-155497632),c=h(c,l,f,a,e[p+10],23,-1094730640),a=h(a,c,l,f,e[p+13],4,681279174),f=h(f,a,c,l,e[p+0],11,-358537222),l=h(l,f,a,c,e[p+3],16,-722521979),c=h(c,l,f,a,e[p+6],23,76029189),a=h(a,c,l,f,e[p+9],4,-640364487),f=h(f,a,c,l,e[p+12],11,-421815835),l=h(l,f,a,c,e[p+15],16,530742520),c=h(c,l,f,a,e[p+2],23,-995338651),a=_(a,c,l,f,e[p+0],6,-198630844),f=_(f,a,c,l,e[p+7],10,1126891415),l=_(l,f,a,c,e[p+14],15,-1416354905),c=_(c,l,f,a,e[p+5],21,-57434055),a=_(a,c,l,f,e[p+12],6,1700485571),f=_(f,a,c,l,e[p+3],10,-1894986606),l=_(l,f,a,c,e[p+10],15,-1051523),c=_(c,l,f,a,e[p+1],21,-2054922799),a=_(a,c,l,f,e[p+8],6,1873313359),f=_(f,a,c,l,e[p+15],10,-30611744),l=_(l,f,a,c,e[p+6],15,-1560198380),c=_(c,l,f,a,e[p+13],21,1309151649),a=_(a,c,l,f,e[p+4],6,-145523070),f=_(f,a,c,l,e[p+11],10,-1120210379),l=_(l,f,a,c,e[p+2],15,718787259),c=_(c,l,f,a,e[p+9],21,-343485551),a=s(a,g),c=s(c,v),l=s(l,m),f=s(f,T)}return o([a,c,l,f])},sha1:function(e){var i,n,r,e=t.utf8encode(w(e)),l=1732584193,u=-271733879,d=-1732584194,h=271733878,_=-1009589776,g=0,v=Array(80);for(e=a(e,8*e.length),r=e.length;r>g;g+=16){var m=l,T=u,I=d,E=h,b=_;for(i=0;80>i;i++)v[i]=16>i?e[g+i]:c(v[i-3]^v[i-8]^v[i-14]^v[i-16],1),n=s(s(c(l,5),f(i,u,d,h)),s(s(_,v[i]),p(i))),_=h,h=d,d=c(u,30),u=l,l=n;l=s(l,m),u=s(u,T),d=s(d,I),h=s(h,E),_=s(_,b)}return o([l,u,d,h,_],3)},sha256:function(e){var i,n,r,c,e=t.utf8encode(w(e)),l=1779033703,u=-1150833019,d=1013904242,h=-1521486534,_=1359893119,f=-1694144372,p=528734635,T=1541459225,I=0,b=Array(64);for(e=a(e,8*e.length),n=e.length;n>I;I+=16){var y=l,S=u,C=d,A=h,N=_,L=f,O=p,k=T;for(i=0;64>i;i++)b[i]=16>i?e[I+i]:s(s(s(m(b[i-2]),b[i-7]),v(b[i-15])),b[i-16]),r=s(s(s(s(T,g(_,6)^g(_,11)^g(_,25)),_&f^~_&p),E[i]),b[i]),c=s(g(l,2)^g(l,13)^g(l,22),l&u^l&d^u&d),T=p,p=f,f=_,_=s(h,r),h=d,d=u,u=l,l=s(r,c);l=s(l,y),u=s(u,S),d=s(d,C),h=s(h,A),_=s(_,N),f=s(f,L),p=s(p,O),T=s(T,k)}return o([l,u,d,h,_,f,p,T],3)}})});