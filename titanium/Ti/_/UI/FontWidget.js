define(["Ti/_/declare","Ti/_/dom","Ti/_/lang","Ti/_/ready","Ti/_/style","Ti/_/UI/Widget"],function(t,e,i,n,o,r){var a;return n(function(){a=e.create("p",{style:{position:"absolute",top:"-1000em",left:0,height:"auto",width:"auto"}},document.body)}),t("Ti._.UI.FontWidget",r,{constructor:function(){this._styleableDomNodes=[]},_setFont:function(t,e){if(t){var i=parseInt(t.fontSize);t.fontSize=isNaN(i)?void 0:i+"px",o.set(e,t)}else o.set(e,{fontFamily:"",fontSize:"",fontStyle:"",fontWeight:""})},_addStyleableDomNode:function(t){this._styleableDomNodes.push(t)},_removeStyleableDomNode:function(t){var e=this._styleableDomNodes.indexOf(t);-1!=e&&this._styleableDomNodes.splice(e,1)},_measureText:function(t,n,r){var s=window.getComputedStyle(n)||{},c=this.font||{},l=!t||""===t;return a.innerHTML=l?"Ã„y":t,this._setFont({fontFamily:c.fontFamily||s.fontFamily||"",fontSize:c.fontSize||s.fontSize||"",fontStyle:c.fontStyle||s.fontStyle||"",fontWeight:c.fontWeight||s.fontWeight||""},a),o.set(a,{whiteSpace:n.style.whiteSpace,width:e.unitize(i.val(r,"auto"))}),{width:l?0:a.clientWidth+.5,height:a.clientHeight}},properties:{color:{set:function(t){for(var e in this._styleableDomNodes)o.set(this._styleableDomNodes[e],"color",t);return t}},font:{set:function(t){for(var e in this._styleableDomNodes)this._setFont(t,this._styleableDomNodes[e]);return t}}}})});