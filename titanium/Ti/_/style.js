define(["Ti/_","Ti/_/string","Ti/Filesystem"],function(t,e,i){function n(t,i,a){var s,l,c=0;if(t)if(arguments.length>2){for(;r.length>c;)if(s=r[c++],s+=s?l||(l=e.capitalize(i)):i,s in t.style)return(o(a,"Array")?a:[a]).forEach(function(e){t.style[s]=e}),a}else for(s in i)n(t,s,i[s]);return t}var r=require.config.vendorPrefixes.dom,o=require.is,a=document.createElement("p");return{discover:function(t,i){var n,o,s=0;for(i||(i=a);r.length>s;)if(n=r[s++],n+=n?o||(o=e.capitalize(t)):t,n in i.style)return n;return t},get:function(t,e){return t.style[this.discover(e,t)]},set:n,supports:function(t,e){var i=this.discover(t,e);return i in e.style},url:function(e){if(e&&"Ti.Blob"===e.declaredClass)return"url("+(""+e)+")";var n=e&&e.match(/^(.+):\/\//),r=n&&~i.protocols.indexOf(n[1])&&i.getFile(e);return r&&r.exists()?"url("+(""+r.read())+")":e&&"none"!==e?/^url\(/.test(e)?e:"url("+(require.cache(e)||t.getAbsolutePath(e))+")":""}}});